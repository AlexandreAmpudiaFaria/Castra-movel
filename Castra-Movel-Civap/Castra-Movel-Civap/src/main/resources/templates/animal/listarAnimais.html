<!DOCTYPE html>
<html>

<head th:replace="~{base :: head}"></head>

<body>
    <nav th:replace="~{base :: nav}"></nav>

    <div>
        <h1 class="text-center mt-3 mb-3">Lista de Animais</h1>
    </div>
    <div class="row container-fluid d-flex justify-content-between sm">
        <a href="/animais/cadastrarAnimal"><button class="btn btn-primary ml-3">Adicionar Novo</button></a>
        <form action="/animais/listarPorBairro" method="GET">
            <div>
                <div class="form-check form-check-inline">
                    <input type="text" class="form-control" name="txtBusca" placeholder="Filtrar por bairro">
                    <input type="submit" class="btn btn-success ml-2">                
                </div>
            </div>
        </form>
    </div>



    <div class="mt-3">
        <table class="table table-striped text-center">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nome</th>
                    <th>Tipo</th>
                    <th>Sexo</th>
                    <th>Raça</th>
                    <th>Cor</th>
                    <th>Idade</th>
                    <th>Proprietario</th>
                    <th>Cidade</th>
                    <th>Bairro</th>
                    <th>Acoes</th>
                </tr>
            </thead>
            <tbody>
                <form action="/gerar/encaminhar" method="POST">
                    <div th:each="animal : ${animais}">
                        <tr>
                            <td class="text-center">
                                <div th:text="${animal.id}" name="txtID">ID</div>
                            </td>
                            <td class="text-center">
                                <div th:text="${animal.nomeAnimal}">nomeAnimal</div>
                            </td>
                            <td class="text-center">
                                <div th:text="${animal.tipo.descricao}">Tipo</div>
                            </td>
                            <td class="text-center">
                                <div th:text="${animal.sexo.sexoDesc}">Sexo</div>
                            </td>
                            <td class="text-center">
                                <div th:text="${animal.raca}">raça</div>
                            </td>
                            <td class="text-center">
                                <div th:text="${animal.cor}">Cor</div>
                            </td>
                            <td class="text-center">
                                <div th:text="${animal.idade + ' anos'}">Idade</div>
                            </td>
                            <td class="text-center">
                                <div th:text="${animal.proprietario.nomeProp}">Proprietario</div>
                            </td>
                            <td class="text-center">
                                <div th:text="${animal.proprietario.cidade.nomeCid}">Cidade</div>
                            </td>
                            <td class="text-center">
                                <div th:text="${#strings.toLowerCase(animal.proprietario.bairro)}">Bairro</div>
                            </td>
                            <td class="text-center">
                                <a th:href="@{'/gerar/encaminhar?id=' + ${animal.id}}"><button type="button"
                                        class="btn btn-warning"><i class="fas fa-share-square"></i></button></a>
                            </td>
                        </tr>
                    </div>
                </form>
            </tbody>
        </table>
    </div>
</body>

</html>